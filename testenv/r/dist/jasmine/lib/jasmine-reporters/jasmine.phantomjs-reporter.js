(function(){function e(e,t){return(t-e)/1e3}function t(e){function t(e){return e<10?"0"+e:e}return e.getFullYear()+"-"+t(e.getMonth()+1)+"-"+t(e.getDate())+"T"+t(e.getHours())+":"+t(e.getMinutes())+":"+t(e.getSeconds())}function n(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")}function r(e){return e.replace(/\&/g,"&amp;").replace(/</g,"&lt;").replace(/\>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&apos;")}if(!jasmine)throw new Exception("jasmine library does not exist in global namespace!");var i=function(e,t){this.consolidate=e===jasmine.undefined?!0:e,this.useDotNotation=t===jasmine.undefined?!0:t};i.prototype={reportRunnerStarting:function(e){this.log("Runner Started.")},reportSpecStarting:function(e){e.startTime=new Date,e.suite.startTime||(e.suite.startTime=e.startTime),this.log(e.suite.description+" : "+e.description+" ... ")},reportSpecResults:function(t){var i=t.results();t.didFail=!i.passed(),t.status=t.didFail?"Failed.":"Passed.",i.skipped&&(t.status="Skipped."),this.log(t.status),t.duration=e(t.startTime,new Date),t.output='<testcase classname="'+this.getFullName(t.suite)+'" name="'+r(t.description)+'" time="'+t.duration+'">';var s="",o=0,u=i.getItems();for(var a=0;a<u.length;a++){var f=u[a];f.type=="expect"&&f.passed&&!f.passed()&&(o+=1,s+=o+": "+r(f.message)+" ")}s&&(t.output+="<failure>"+n(s)+"</failure>"),t.output+="</testcase>"},reportSuiteResults:function(n){var r=n.results(),i=n.specs(),s="",o=0;n.status=r.passed()?"Passed.":"Failed.",n.statusPassed=r.passed(),r.totalCount===0&&(n.status="Skipped."),n.startTime=n.startTime||new Date,n.duration=e(n.startTime,new Date);for(var u=0;u<i.length;u++)o+=i[u].didFail?1:0,s+="\n  "+i[u].output;n.output='\n<testsuite name="'+this.getFullName(n)+'" errors="0" tests="'+i.length+'" failures="'+o+'" time="'+n.duration+'" timestamp="'+t(n.startTime)+'">',n.output+=s,n.output+="\n</testsuite>",this.log(n.description+": "+r.passedCount+" of "+r.totalCount+" expectations passed.")},reportRunnerResults:function(e){this.log("Runner Finished.");var t=e.suites(),n=!0;for(var r=0;r<t.length;r++){var i=t[r],s="TEST-"+this.getFullName(i,!0)+".xml",o='<?xml version="1.0" encoding="UTF-8" ?>';n=i.statusPassed?n:!1;if(this.consolidate&&i.parentSuite)continue;this.consolidate?(o+="\n<testsuites>",o+=this.getNestedOutput(i),o+="\n</testsuites>",this.createSuiteResultContainer(s,o)):(o+=i.output,this.createSuiteResultContainer(s,o))}this.createTestFinishedContainer(n)},getNestedOutput:function(e){var t=e.output;for(var n=0;n<e.suites().length;n++)t+=this.getNestedOutput(e.suites()[n]);return t},createSuiteResultContainer:function(e,t){jasmine.phantomjsXMLReporterResults=jasmine.phantomjsXMLReporterResults||[],jasmine.phantomjsXMLReporterResults.push({xmlfilename:e,xmlbody:t})},createTestFinishedContainer:function(e){jasmine.phantomjsXMLReporterPassed=e},getFullName:function(e,t){var n;if(this.useDotNotation){n=e.description;for(var i=e.parentSuite;i;i=i.parentSuite)n=i.description+"."+n}else n=e.getFullName();return t?n.replace(/[^\w]/g,""):r(n)},log:function(e){var t=jasmine.getGlobal().console;t&&t.log&&t.log(e)}},jasmine.PhantomJSReporter=i})();